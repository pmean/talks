---
title: "Randomization tests for the Titanic"
author: "Steve Simon"
date: "2023-06-04"
output: html_document
knit: (function(inputFile, encoding) {
  rmarkdown::render(inputFile, encoding = encoding,
  output_dir = "../results", output_format = "all") })    
---

```{r}
t <- read.table(file="../data/titanic.txt", header=TRUE)
head(t)
table(t$Sex, t$Survived)
tapply(t$Age, t$Survived, mean, na.rm=TRUE)
```

```{r}
n <- 10000
randomized_number_male_survivors <- rep(NA, 10000)
randomized_average_age_survivors <- rep(NA, 10000)
for (i in 1:1000) {
  randomized_number_male_survivors[i] <- sum(sample(t$Sex, 450)=="male")
  randomized_average_age_survivors[i] <- mean(sample(t$Age, 450), na.rm=TRUE)
}
hist(randomized_number_male_survivors, title=" ")
```

```{r}
hist(randomized_average_age_survivors, title=" ")
```
```